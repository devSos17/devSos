---
import "@/styles/main.css";

import { type Experience } from "@/types/devSos";

import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Hero from "@/components/Hero.astro";
import Carrousel from "@/components/Carrousel.astro";
import ExpCard from "@/components/ExperienceCard.astro";
import Section from "@/components/Section.astro";
import Bento from "@/components/Bento.astro";
// import Button from "@/components/Button.astro";
// import Scheduler from "@/components/Scheduler.astro";

import { experiences } from "@/data/experiences.json";
---

<Layout title="DevSos - Landing">
	<Hero
		slot="header"
		id="devSos"
		class="h-screen bg-white"
		subtitle="By Santiago Orozco"
	>
		<Fragment slot="header">Dev<span class="text-gradient">Sos</span></Fragment>
		<Header />
	</Hero>
	<main
		class="flex flex-col justify-center items-center m-auto p-1 w-full md:w-4/5 text-content leading-relaxed"
	>
		<!-- <div class="w-full h-full p-4 mt-20 flex justify-center item-center"> -->
		<!-- 	<h1 class="mt-8 h-8 text-9xl font-bold leading-4 text-center mb-4"> -->
		<!-- 		Dev<span class="text-accent-1">Sos</span> -->
		<!-- 	</h1> -->
		<!-- </div> -->
		<Carrousel id="Experience" title="Experience" class="px-10 w-full">
			{
				experiences.map((exp) => (
					<ExpCard
						class="min-h-96 min-w-56 flex-none bg-primary-100 w-2/3 md:w-1/3 md:pb-4 rounded-lg"
						exp={exp}
					/>
				))
			}
		</Carrousel>
		<Section id="projects" class="flex flex-col w-full px-10 py-4 mt-4">
			<h2 class="text-gradient w-fit text-5xl mt-4 mb-6">Projects</h2>
			<Bento />
		</Section>
	</main>
	<div class="min-h-[1200px] bg-slate-800"></div>
	<!-- <Scheduler /> -->
</Layout>

<script>
	const nav: HTMLElement = document.querySelector("nav") as HTMLElement;

	const stickyNavTop: number =
		nav.getBoundingClientRect().top + window.scrollY - 15; // 10+ to avoid flashing

	window.addEventListener("scroll", () => {
		if (window.scrollY >= stickyNavTop) {
			nav.classList.add("fixed");
			nav.classList.remove("sticky");
		} else {
			nav.classList.add("sticky");
			nav.classList.remove("fixed");
		}
	});
</script>
